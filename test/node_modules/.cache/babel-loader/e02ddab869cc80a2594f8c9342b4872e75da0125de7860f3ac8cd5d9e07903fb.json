{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch } from \"react-redux\";\nimport { updateCart, removeItem } from \"../../Slices/cartSlice\";\nexport const useCart = cart => {\n  _s();\n  const dispatch = useDispatch();\n  const minusItem = arg => {\n    var _cart$find;\n    const count = ((_cart$find = cart.find(item => item.id === arg.id)) === null || _cart$find === void 0 ? void 0 : _cart$find.count) || 0;\n    if (count > 1) {\n      dispatch(updateCart({\n        ...arg,\n        count: count - 1\n      }));\n    } else if (count === 1) {\n      dispatch(removeItem(arg));\n    }\n  };\n  const plusItem = arg => {\n    const filteredItem = cart.find(item => item.id === arg.id && item.id + 1);\n    const index = cart.indexOf(filteredItem);\n    // console.log(cart)\n    const firstItems = cart.slice(0, index);\n    const lastItems = cart.slice(index + 1);\n    // console.log(cart)\n    // console.log(firstItems)\n    console.log(filteredItem);\n    // console.log(lastItems)\n    const obj = Object.assign({}, firstItems, filteredItem, lastItems);\n    dispatch(updateCart(obj));\n  };\n  const deleteItem = arg => {\n    const filteredItem = cart.find(item => item.id === arg.id);\n    dispatch(removeItem(filteredItem));\n  };\n  return {\n    minusItem,\n    plusItem,\n    deleteItem\n  };\n};\n_s(useCart, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useDispatch","updateCart","removeItem","useCart","cart","_s","dispatch","minusItem","arg","_cart$find","count","find","item","id","plusItem","filteredItem","index","indexOf","firstItems","slice","lastItems","console","log","obj","Object","assign","deleteItem"],"sources":["C:/Users/MSI4/Desktop/task/test/src/Components/Cart/Cart.hook.ts"],"sourcesContent":["import { useDispatch } from \"react-redux\"\r\nimport { updateCart, removeItem } from \"../../Slices/cartSlice\"\r\nimport { productsType } from \"../../types/Types\"\r\n\r\nexport const useCart = (cart: productsType[]) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const minusItem = (arg: productsType): void => {\r\n        const count = cart.find((item) => item.id === arg.id)?.count || 0 \r\n        if(count > 1){\r\n          dispatch(updateCart({...arg, count: count - 1}))\r\n        }else if(count === 1){\r\n          dispatch(removeItem(arg)) \r\n        }\r\n      }\r\n\r\n      const plusItem = (arg: productsType): void => {\r\n        const filteredItem = cart.find((item: productsType) => item.id === arg.id && item.id + 1) as productsType\r\n        const index = cart.indexOf(filteredItem)\r\n        // console.log(cart)\r\n        const firstItems = cart.slice(0, index)\r\n        const lastItems = cart.slice(index + 1)\r\n        // console.log(cart)\r\n        // console.log(firstItems)\r\n        console.log(filteredItem)\r\n        // console.log(lastItems)\r\n        const obj = Object.assign({}, firstItems, filteredItem, lastItems)\r\n        \r\n        dispatch(updateCart(obj))\r\n      }\r\n    \r\n      const deleteItem = (arg: productsType): void => {\r\n        const filteredItem = cart.find((item: productsType) => item.id === arg.id) as productsType\r\n        dispatch(removeItem(filteredItem))\r\n      }\r\n    \r\n      return {minusItem, plusItem, deleteItem}\r\n}"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,EAAEC,UAAU,QAAQ,wBAAwB;AAG/D,OAAO,MAAMC,OAAO,GAAIC,IAAoB,IAAK;EAAAC,EAAA;EAC7C,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9B,MAAMO,SAAS,GAAIC,GAAiB,IAAW;IAAA,IAAAC,UAAA;IAC3C,MAAMC,KAAK,GAAG,EAAAD,UAAA,GAAAL,IAAI,CAACO,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKL,GAAG,CAACK,EAAE,CAAC,cAAAJ,UAAA,uBAAvCA,UAAA,CAAyCC,KAAK,KAAI,CAAC;IACjE,IAAGA,KAAK,GAAG,CAAC,EAAC;MACXJ,QAAQ,CAACL,UAAU,CAAC;QAAC,GAAGO,GAAG;QAAEE,KAAK,EAAEA,KAAK,GAAG;MAAC,CAAC,CAAC,CAAC;IAClD,CAAC,MAAK,IAAGA,KAAK,KAAK,CAAC,EAAC;MACnBJ,QAAQ,CAACJ,UAAU,CAACM,GAAG,CAAC,CAAC;IAC3B;EACF,CAAC;EAED,MAAMM,QAAQ,GAAIN,GAAiB,IAAW;IAC5C,MAAMO,YAAY,GAAGX,IAAI,CAACO,IAAI,CAAEC,IAAkB,IAAKA,IAAI,CAACC,EAAE,KAAKL,GAAG,CAACK,EAAE,IAAID,IAAI,CAACC,EAAE,GAAG,CAAC,CAAiB;IACzG,MAAMG,KAAK,GAAGZ,IAAI,CAACa,OAAO,CAACF,YAAY,CAAC;IACxC;IACA,MAAMG,UAAU,GAAGd,IAAI,CAACe,KAAK,CAAC,CAAC,EAAEH,KAAK,CAAC;IACvC,MAAMI,SAAS,GAAGhB,IAAI,CAACe,KAAK,CAACH,KAAK,GAAG,CAAC,CAAC;IACvC;IACA;IACAK,OAAO,CAACC,GAAG,CAACP,YAAY,CAAC;IACzB;IACA,MAAMQ,GAAG,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEP,UAAU,EAAEH,YAAY,EAAEK,SAAS,CAAC;IAElEd,QAAQ,CAACL,UAAU,CAACsB,GAAG,CAAC,CAAC;EAC3B,CAAC;EAED,MAAMG,UAAU,GAAIlB,GAAiB,IAAW;IAC9C,MAAMO,YAAY,GAAGX,IAAI,CAACO,IAAI,CAAEC,IAAkB,IAAKA,IAAI,CAACC,EAAE,KAAKL,GAAG,CAACK,EAAE,CAAiB;IAC1FP,QAAQ,CAACJ,UAAU,CAACa,YAAY,CAAC,CAAC;EACpC,CAAC;EAED,OAAO;IAACR,SAAS;IAAEO,QAAQ;IAAEY;EAAU,CAAC;AAC9C,CAAC;AAAArB,EAAA,CAjCYF,OAAO;EAAA,QACCH,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}