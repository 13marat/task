{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateCart, removeItem } from \"../../Slices/cartSlice\";\nexport const useCart = () => {\n  _s();\n  const cart = useSelector(state => state.cart);\n  const dispatch = useDispatch();\n  const minusItem = arg => {\n    const filteredItem = cart.find(item => item.id === arg.id);\n    if (filteredItem.count > 1) {\n      dispatch(updateCart({\n        ...arg,\n        count: filteredItem.count - 1\n      }));\n    } else if (filteredItem.count === 1) {\n      dispatch(removeItem(arg));\n    }\n  };\n  const plusItem = arg => {\n    const updatedCart = [...cart];\n    const filteredItem = updatedCart.find(item => item.id === arg.id);\n    const index = updatedCart.indexOf(filteredItem);\n    updatedCart[index] = {\n      ...arg,\n      count: filteredItem.count || 0 + 1\n    };\n    dispatch(updateCart(updatedCart));\n  };\n  const deleteItem = arg => {\n    const filteredItem = cart.find(item => item.id === arg.id);\n    dispatch(removeItem(filteredItem));\n  };\n  return [minusItem, plusItem, deleteItem];\n};\n_s(useCart, \"ecWlw9hQmiN1BKXN3G5mczU/ZzA=\", false, function () {\n  return [useSelector, useDispatch];\n});","map":{"version":3,"names":["useDispatch","useSelector","updateCart","removeItem","useCart","_s","cart","state","dispatch","minusItem","arg","filteredItem","find","item","id","count","plusItem","updatedCart","index","indexOf","deleteItem"],"sources":["C:/Users/MSI4/Desktop/task/test/src/Components/Cart/Cart.hook.ts"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\"\r\nimport { updateCart, removeItem } from \"../../Slices/cartSlice\"\r\nimport { productsType } from \"../../types/Types\"\r\n\r\n\r\nexport const useCart = () => {\r\n    const cart = useSelector((state: any) => state.cart)\r\n    const dispatch = useDispatch()\r\n\r\n    const minusItem = (arg: productsType): void => {\r\n        const filteredItem = cart.find((item: productsType) => item.id === arg.id)\r\n        if(filteredItem.count > 1){\r\n          dispatch(updateCart({...arg, count: filteredItem.count - 1}))\r\n        }else if(filteredItem.count === 1){\r\n          dispatch(removeItem(arg)) \r\n        }\r\n      }\r\n\r\n      const plusItem = (arg: productsType): void => {\r\n        const updatedCart: any  = [...cart]\r\n        const filteredItem = updatedCart.find((item: productsType) => item.id === arg.id) as productsType\r\n        const index = updatedCart.indexOf(filteredItem)\r\n        updatedCart[index] = {...arg, count: filteredItem.count || 0 + 1}\r\n          \r\n        dispatch(updateCart(updatedCart))\r\n      }\r\n    \r\n      const deleteItem = (arg: productsType): void => {\r\n        const filteredItem = cart.find((item: productsType) => item.id === arg.id)\r\n        dispatch(removeItem(filteredItem))\r\n      }\r\n    \r\n  \r\n\r\n      return [minusItem, plusItem, deleteItem]\r\n}"],"mappings":";AAAA,SAASA,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,UAAU,EAAEC,UAAU,QAAQ,wBAAwB;AAI/D,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAMC,IAAI,GAAGL,WAAW,CAAEM,KAAU,IAAKA,KAAK,CAACD,IAAI,CAAC;EACpD,MAAME,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,MAAMS,SAAS,GAAIC,GAAiB,IAAW;IAC3C,MAAMC,YAAY,GAAGL,IAAI,CAACM,IAAI,CAAEC,IAAkB,IAAKA,IAAI,CAACC,EAAE,KAAKJ,GAAG,CAACI,EAAE,CAAC;IAC1E,IAAGH,YAAY,CAACI,KAAK,GAAG,CAAC,EAAC;MACxBP,QAAQ,CAACN,UAAU,CAAC;QAAC,GAAGQ,GAAG;QAAEK,KAAK,EAAEJ,YAAY,CAACI,KAAK,GAAG;MAAC,CAAC,CAAC,CAAC;IAC/D,CAAC,MAAK,IAAGJ,YAAY,CAACI,KAAK,KAAK,CAAC,EAAC;MAChCP,QAAQ,CAACL,UAAU,CAACO,GAAG,CAAC,CAAC;IAC3B;EACF,CAAC;EAED,MAAMM,QAAQ,GAAIN,GAAiB,IAAW;IAC5C,MAAMO,WAAgB,GAAI,CAAC,GAAGX,IAAI,CAAC;IACnC,MAAMK,YAAY,GAAGM,WAAW,CAACL,IAAI,CAAEC,IAAkB,IAAKA,IAAI,CAACC,EAAE,KAAKJ,GAAG,CAACI,EAAE,CAAiB;IACjG,MAAMI,KAAK,GAAGD,WAAW,CAACE,OAAO,CAACR,YAAY,CAAC;IAC/CM,WAAW,CAACC,KAAK,CAAC,GAAG;MAAC,GAAGR,GAAG;MAAEK,KAAK,EAAEJ,YAAY,CAACI,KAAK,IAAI,CAAC,GAAG;IAAC,CAAC;IAEjEP,QAAQ,CAACN,UAAU,CAACe,WAAW,CAAC,CAAC;EACnC,CAAC;EAED,MAAMG,UAAU,GAAIV,GAAiB,IAAW;IAC9C,MAAMC,YAAY,GAAGL,IAAI,CAACM,IAAI,CAAEC,IAAkB,IAAKA,IAAI,CAACC,EAAE,KAAKJ,GAAG,CAACI,EAAE,CAAC;IAC1EN,QAAQ,CAACL,UAAU,CAACQ,YAAY,CAAC,CAAC;EACpC,CAAC;EAID,OAAO,CAACF,SAAS,EAAEO,QAAQ,EAAEI,UAAU,CAAC;AAC9C,CAAC;AAAAf,EAAA,CA9BYD,OAAO;EAAA,QACHH,WAAW,EACPD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}