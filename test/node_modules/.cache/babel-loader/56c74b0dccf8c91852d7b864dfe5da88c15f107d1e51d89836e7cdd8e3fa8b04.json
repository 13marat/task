{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch } from \"react-redux\";\nimport { updateCart, removeItem } from \"../../Slices/cartSlice\";\nexport const useCart = cart => {\n  _s();\n  const dispatch = useDispatch();\n  const minusItem = arg => {\n    var _cart$find;\n    const count = ((_cart$find = cart.find(item => item.id === arg.id)) === null || _cart$find === void 0 ? void 0 : _cart$find.count) || 0;\n    if (count > 1) {\n      dispatch(updateCart({\n        ...arg,\n        count: count - 1\n      }));\n    } else if (count === 1) {\n      dispatch(removeItem(arg));\n    }\n  };\n  const plusItem = arg => {\n    const updatedCart = [...cart];\n    const filteredItem = updatedCart.find(item => item.id === arg.id);\n    const index = updatedCart.indexOf(filteredItem);\n    updatedCart[index] = {\n      ...arg,\n      count: filteredItem.count || 0 + 1\n    };\n    dispatch(updateCart(updatedCart));\n  };\n  const deleteItem = arg => {\n    const filteredItem = cart.find(item => item.id === arg.id);\n    dispatch(removeItem(filteredItem));\n  };\n  return {\n    minusItem,\n    plusItem,\n    deleteItem\n  };\n};\n_s(useCart, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useDispatch","updateCart","removeItem","useCart","cart","_s","dispatch","minusItem","arg","_cart$find","count","find","item","id","plusItem","updatedCart","filteredItem","index","indexOf","deleteItem"],"sources":["C:/Users/MSI4/Desktop/task/test/src/Components/Cart/Cart.hook.ts"],"sourcesContent":["import { useDispatch } from \"react-redux\";\r\nimport { updateCart, removeItem } from \"../../Slices/cartSlice\";\r\nimport { productsType } from \"../../types/Types\";\r\n\r\nexport const useCart = (cart: productsType[]) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const minusItem = (arg: productsType): void => {\r\n    const count = cart.find((item) => item.id === arg.id)?.count || 0;\r\n    if (count > 1) {\r\n      dispatch(updateCart({ ...arg, count: count - 1 }));\r\n    } else if (count === 1) {\r\n      dispatch(removeItem(arg));\r\n    }\r\n  };\r\n\r\n  const plusItem = (arg: productsType): void => {\r\n    const updatedCart: any = [...cart];\r\n    const filteredItem = updatedCart.find(\r\n      (item: productsType) => item.id === arg.id\r\n    ) as productsType;\r\n    const index = updatedCart.indexOf(filteredItem);\r\n    updatedCart[index] = { ...arg, count: filteredItem.count || 0 + 1 };\r\n    dispatch(updateCart(updatedCart));\r\n  };\r\n\r\n  const deleteItem = (arg: productsType): void => {\r\n    const filteredItem = cart.find(\r\n      (item: productsType) => item.id === arg.id\r\n    ) as productsType;\r\n    dispatch(removeItem(filteredItem));\r\n  };\r\n\r\n  return { minusItem, plusItem, deleteItem };\r\n};\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,EAAEC,UAAU,QAAQ,wBAAwB;AAG/D,OAAO,MAAMC,OAAO,GAAIC,IAAoB,IAAK;EAAAC,EAAA;EAC/C,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9B,MAAMO,SAAS,GAAIC,GAAiB,IAAW;IAAA,IAAAC,UAAA;IAC7C,MAAMC,KAAK,GAAG,EAAAD,UAAA,GAAAL,IAAI,CAACO,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKL,GAAG,CAACK,EAAE,CAAC,cAAAJ,UAAA,uBAAvCA,UAAA,CAAyCC,KAAK,KAAI,CAAC;IACjE,IAAIA,KAAK,GAAG,CAAC,EAAE;MACbJ,QAAQ,CAACL,UAAU,CAAC;QAAE,GAAGO,GAAG;QAAEE,KAAK,EAAEA,KAAK,GAAG;MAAE,CAAC,CAAC,CAAC;IACpD,CAAC,MAAM,IAAIA,KAAK,KAAK,CAAC,EAAE;MACtBJ,QAAQ,CAACJ,UAAU,CAACM,GAAG,CAAC,CAAC;IAC3B;EACF,CAAC;EAED,MAAMM,QAAQ,GAAIN,GAAiB,IAAW;IAC5C,MAAMO,WAAgB,GAAG,CAAC,GAAGX,IAAI,CAAC;IAClC,MAAMY,YAAY,GAAGD,WAAW,CAACJ,IAAI,CAClCC,IAAkB,IAAKA,IAAI,CAACC,EAAE,KAAKL,GAAG,CAACK,EAC1C,CAAiB;IACjB,MAAMI,KAAK,GAAGF,WAAW,CAACG,OAAO,CAACF,YAAY,CAAC;IAC/CD,WAAW,CAACE,KAAK,CAAC,GAAG;MAAE,GAAGT,GAAG;MAAEE,KAAK,EAAEM,YAAY,CAACN,KAAK,IAAI,CAAC,GAAG;IAAE,CAAC;IACnEJ,QAAQ,CAACL,UAAU,CAACc,WAAW,CAAC,CAAC;EACnC,CAAC;EAED,MAAMI,UAAU,GAAIX,GAAiB,IAAW;IAC9C,MAAMQ,YAAY,GAAGZ,IAAI,CAACO,IAAI,CAC3BC,IAAkB,IAAKA,IAAI,CAACC,EAAE,KAAKL,GAAG,CAACK,EAC1C,CAAiB;IACjBP,QAAQ,CAACJ,UAAU,CAACc,YAAY,CAAC,CAAC;EACpC,CAAC;EAED,OAAO;IAAET,SAAS;IAAEO,QAAQ;IAAEK;EAAW,CAAC;AAC5C,CAAC;AAACd,EAAA,CA9BWF,OAAO;EAAA,QACDH,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}